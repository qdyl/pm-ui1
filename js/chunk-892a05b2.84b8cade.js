(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-892a05b2"],{"498a":function(t,e,n){"use strict";var o=n("23e7"),s=n("58a8").trim;o({target:"String",proto:!0,forced:n("c8d2")("trim")},{trim:function(){return s(this)}})},"4ac9":function(t,e,n){t.exports=n.p+"img/logoMi.09abb085.png"},5838:function(t,e,n){"use strict";n("616e")},"616e":function(t,e,n){},"73b3":function(t,e,n){"use strict";n("dfc9")},8081:function(t,e,n){"use strict";n.r(e);var o=n("5530"),s=(n("ac1f"),n("5319"),n("2f62")),a=(n("498a"),n("d3b7"),n("b0c0"),n("b64b"),n("acf6")),r={data:function(){return{subInfo:{logoImg:n("4ac9"),isLogin1:!0,redirect:void 0,otherQuery:{}},loginForm1:{account:"admin",pass:""},loginForm2:{telNum:"",telCode:""}}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.subInfo.redirect=e.redirect,this.subInfo.otherQuery=this.getOtherQuery(e))},immediate:!0}},methods:Object(o.a)({onLogin:function(){var t=this,e={username:this.loginForm1.account.trim(),password:this.loginForm1.pass};this.loginStore(e).then((function(e){t.getUserInfo(e.data.token),t.$router.push({path:t.subInfo.redirect||"/",query:t.subInfo.otherQuery})})).catch((function(t){})).finally((function(t){}))},getUserInfo:function(t){var e=this;Object(a.a)(t).then((function(t){var n=t.data,o=n.avatar,s=n.introduction,a={userImg:o,userName:n.name,introduction:s,roles:n.roles};e.setUserConfigStore({userInfo:a})})).catch((function(t){})).finally((function(t){}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,n){return"redirect"!==n&&(e[n]=t[n]),e}),{})}},Object(s.b)("user",{setUserConfigStore:"setUserConfig",loginStore:"login"}))},i=(n("5838"),n("2877")),c={components:{MyLoginTpl:Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("section",{staticClass:"modulBar"},[n("div",{staticClass:"switchBar flexClass"},[n("span",{staticClass:"switchTit",class:{active:t.subInfo.isLogin1},on:{click:function(e){t.subInfo.isLogin1=!0}}},[t._v("账号密码登录")]),n("span",{staticClass:"switchTit",class:{active:!t.subInfo.isLogin1},on:{click:function(e){t.subInfo.isLogin1=!1}}},[t._v("验证码登录")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.subInfo.isLogin1,expression:"subInfo.isLogin1"}],staticClass:"theWay"},[n("van-form",{attrs:{"show-error-message":!1}},[n("van-field",{attrs:{clearable:"",label:"",placeholder:"请输入账号",rules:[{required:!0,message:""}]},model:{value:t.loginForm1.account,callback:function(e){t.$set(t.loginForm1,"account",e)},expression:"loginForm1.account"}}),n("van-field",{attrs:{type:"password",clearable:"",label:"",placeholder:"请输入密码",rules:[{required:!0,message:""}]},model:{value:t.loginForm1.pass,callback:function(e){t.$set(t.loginForm1,"pass",e)},expression:"loginForm1.pass"}}),n("van-button",{staticClass:"subBtn",attrs:{"native-type":"button",round:"",type:"info",block:""},on:{click:function(e){return t.onLogin("way1")}}},[t._v("登 录")])],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.subInfo.isLogin1,expression:"!subInfo.isLogin1"}],staticClass:"theWay"},[n("van-form",{attrs:{"show-error-message":!1}},[n("van-field",{attrs:{clearable:"",label:"",placeholder:"手机号码",rules:[{required:!0,message:""}]},model:{value:t.loginForm2.telNum,callback:function(e){t.$set(t.loginForm2,"telNum",e)},expression:"loginForm2.telNum"}}),n("van-field",{attrs:{center:"",clearable:"",label:"",placeholder:"请输入短信验证码",rules:[{required:!0,message:""}]},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"mini",type:"primary"}},[t._v("发送验证码3")])]},proxy:!0}]),model:{value:t.loginForm2.telCode,callback:function(e){t.$set(t.loginForm2,"telCode",e)},expression:"loginForm2.telCode"}}),n("van-button",{staticClass:"subBtn",attrs:{"native-type":"button",round:"",type:"info",block:""},on:{click:function(e){return t.onLogin("way2")}}},[t._v("登 录")])],1)],1),n("p",{staticClass:"footerBlock "},[n("span",{on:{click:function(e){return t.$router.push("/forgotPassB")}}},[t._v("忘记密码")]),n("span",{on:{click:function(e){return t.$router.push("/registerB")}}},[t._v("注册")])])])])}),[],!1,null,"23e54b45",null).exports},data:function(){return{subInfo:{logoImg:n("4ac9")}}},computed:Object(o.a)({},Object(s.c)({themeColor:function(t){return t.app.projectConfig.themeColor}})),watch:{},methods:{onClickBackHome:function(){this.$router.replace("/homeA")}}},l=(n("73b3"),Object(i.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("h3",{staticClass:"pgTitle"},[t._v("欢迎登录！")]),n("header",{staticClass:"header"},[n("van-icon",{staticClass:"homeIcon",attrs:{name:"wap-home",size:"30px"},on:{click:function(e){return t.$router.replace("/homeB")}}}),n("div",{staticClass:"headerBg",style:{"background-color":"#fd6954"}}),n("div",{staticClass:"logoBar"},[n("img",{staticClass:"logoImg",attrs:{src:t.subInfo.logoImg,alt:""}})]),t._m(0)],1),n("main",{},[n("MyLoginTpl")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headerTabBar flexClass"},[e("span",{staticClass:"tabBar actClass"},[this._v("企业登录")])])}],!1,null,"459d02f4",null));e.default=l.exports},c8d2:function(t,e,n){var o=n("5e77").PROPER,s=n("d039"),a=n("5899");t.exports=function(t){return s((function(){return!!a[t]()||"​᠎"!=="​᠎"[t]()||o&&a[t].name!==t}))}},dfc9:function(t,e,n){}}]);