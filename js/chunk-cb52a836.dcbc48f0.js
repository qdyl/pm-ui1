(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cb52a836"],{"498a":function(t,e,o){"use strict";var n=o("23e7"),s=o("58a8").trim;n({target:"String",proto:!0,forced:o("c8d2")("trim")},{trim:function(){return s(this)}})},"4ac9":function(t,e,o){t.exports=o.p+"img/logoMi.09abb085.png"},"51c3":function(t,e,o){},"56dd":function(t,e,o){"use strict";o.r(e);var n=o("5530"),s=(o("ac1f"),o("5319"),o("2f62")),r=(o("498a"),o("d3b7"),o("b0c0"),o("b64b"),o("acf6")),a={data:function(){return{subInfo:{logoImg:o("4ac9"),isLogin1:!0,redirect:void 0,otherQuery:{}},loginForm1:{account:"admin",pass:""},loginForm2:{telNum:"",telCode:""}}},watch:{$route:{handler:function(t){var e=t.query;e&&(this.subInfo.redirect=e.redirect,this.subInfo.otherQuery=this.getOtherQuery(e))},immediate:!0}},methods:Object(n.a)({onLogin:function(){var t=this,e={username:this.loginForm1.account.trim(),password:this.loginForm1.pass};this.loginStore(e).then((function(e){t.getUserInfo(e.data.token),t.$router.push({path:t.subInfo.redirect||"/",query:t.subInfo.otherQuery})})).catch((function(t){})).finally((function(t){}))},getUserInfo:function(t){var e=this;Object(r.a)(t).then((function(t){var o=t.data,n=o.avatar,s=o.introduction,r={userImg:n,userName:o.name,introduction:s,roles:o.roles};e.setUserConfigStore({userInfo:r})})).catch((function(t){})).finally((function(t){}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(e,o){return"redirect"!==o&&(e[o]=t[o]),e}),{})}},Object(s.b)("user",{setUserConfigStore:"setUserConfig",loginStore:"login"}))},i=(o("9967"),o("2877")),c=Object(i.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("section",{staticClass:"modulBar"},[o("div",{staticClass:"switchBar flexClass"},[o("span",{staticClass:"switchTit",class:{active:t.subInfo.isLogin1},on:{click:function(e){t.subInfo.isLogin1=!0}}},[t._v("账号密码登录")]),o("span",{staticClass:"switchTit",class:{active:!t.subInfo.isLogin1},on:{click:function(e){t.subInfo.isLogin1=!1}}},[t._v("验证码登录")])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.subInfo.isLogin1,expression:"subInfo.isLogin1"}],staticClass:"theWay"},[o("van-form",{attrs:{"show-error-message":!1}},[o("van-field",{attrs:{clearable:"",label:"",placeholder:"请输入账号",rules:[{required:!0,message:""}]},model:{value:t.loginForm1.account,callback:function(e){t.$set(t.loginForm1,"account",e)},expression:"loginForm1.account"}}),o("van-field",{attrs:{type:"password",clearable:"",label:"",placeholder:"请输入密码",rules:[{required:!0,message:""}]},model:{value:t.loginForm1.pass,callback:function(e){t.$set(t.loginForm1,"pass",e)},expression:"loginForm1.pass"}}),o("van-button",{staticClass:"subBtn",attrs:{"native-type":"button",round:"",type:"info",block:""},on:{click:function(e){return t.onLogin("way1")}}},[t._v("登 录")])],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.subInfo.isLogin1,expression:"!subInfo.isLogin1"}],staticClass:"theWay"},[o("van-form",{attrs:{"show-error-message":!1}},[o("van-field",{attrs:{clearable:"",label:"",placeholder:"手机号码",rules:[{required:!0,message:""}]},model:{value:t.loginForm2.telNum,callback:function(e){t.$set(t.loginForm2,"telNum",e)},expression:"loginForm2.telNum"}}),o("van-field",{attrs:{center:"",clearable:"",label:"",placeholder:"请输入短信验证码",rules:[{required:!0,message:""}]},scopedSlots:t._u([{key:"button",fn:function(){return[o("van-button",{attrs:{size:"mini",type:"primary"}},[t._v("发送验证码3")])]},proxy:!0}]),model:{value:t.loginForm2.telCode,callback:function(e){t.$set(t.loginForm2,"telCode",e)},expression:"loginForm2.telCode"}}),o("van-button",{staticClass:"subBtn",attrs:{"native-type":"button",round:"",type:"info",block:""},on:{click:function(e){return t.onLogin("way2")}}},[t._v("登 录")])],1)],1),o("p",{staticClass:"footerBlock "},[o("span",{on:{click:function(e){return t.$router.push("/forgotPassA")}}},[t._v("忘记密码")]),o("span",{on:{click:function(e){return t.$router.push("/registerA")}}},[t._v("注册")])])])])}),[],!1,null,"0fad5027",null).exports,l=o("cf1e"),u=o.n(l),f={components:{MyLoginTpl:c},data:function(){return{subInfo:{logoImg:o("4ac9")},backgroundColor:"blue",myThemeColor:u.a}},computed:Object(n.a)(Object(n.a)({},Object(s.c)({themeColor:function(t){return t.app.projectConfig.themeColor}})),{},{cssVars:function(){return{"--color":this.backgroundColor}}}),watch:{},methods:{onClickBackHome:function(){this.$router.replace("/homeA")}}},m=(o("7e32"),Object(i.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page"},[o("h3",{staticClass:"pgTitle"},[t._v("欢迎登录！")]),o("header",{staticClass:"header"},[o("van-icon",{staticClass:"homeIcon",attrs:{name:"wap-home",size:"30px"},on:{click:function(e){return t.$router.replace("/homeA")}}}),o("div",{staticClass:"headerBg",style:{"background-color":t.themeColor}}),o("div",{staticClass:"logoBar"},[o("img",{staticClass:"logoImg",attrs:{src:t.subInfo.logoImg,alt:""}})]),t._m(0)],1),o("main",{},[o("MyLoginTpl")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headerTabBar flexClass"},[e("span",{staticClass:"tabBar actClass"},[this._v("个人登录")])])}],!1,null,"44c13772",null));e.default=m.exports},"7e32":function(t,e,o){"use strict";o("d563")},9967:function(t,e,o){"use strict";o("51c3")},c8d2:function(t,e,o){var n=o("5e77").PROPER,s=o("d039"),r=o("5899");t.exports=function(t){return s((function(){return!!r[t]()||"​᠎"!=="​᠎"[t]()||n&&r[t].name!==t}))}},cf1e:function(t,e,o){t.exports={maxWidth:"768px",topHeaderHeight:"46px",footerTabHeight:"50px",themeColor:"#1890ff"}},d563:function(t,e,o){}}]);